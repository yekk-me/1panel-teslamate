# Mytesla 应用使用手册

## 目录

1. [系统简介](#系统简介)
2. [首次使用配置](#首次使用配置)
3. [日常使用指南](#日常使用指南)
4. [密码修改指南](#密码修改指南)
5. [应用升级](#应用升级)
6. [常见问题处理](#常见问题处理)
7. [获取帮助](#获取帮助)

---

## 系统简介

Mytesla 是一个特斯拉车辆数据记录应用，安装在您的 1Panel 服务器上。它能够：

- 📊 自动记录您的特斯拉车辆数据
- 📈 提供精美的数据图表展示
- 🔒 数据完全存储在您自己的服务器上
- 📱 支持手机小程序远程查看

### 您可以通过以下方式访问

安装完成后，您可以通过多种方式访问 Mytesla：

1. **网页访问**：在浏览器输入您的域名即可访问
2. **手机小程序**：使用 Mytesla.cc 小程序随时查看
3. **本地访问**：在家里直接通过服务器 IP 访问

---

## 首次使用配置

### 第一步：登录系统

1. 打开浏览器，输入您的域名（例如：`https://mytesla.example.com`）
2. 出现登录框时，输入您在安装时设置的用户名和密码

![登录界面](./images/teslamate-login.png)
*[预留图片位置：登录界面截图]*

> 💡 **提示**：如果忘记密码，请参考[密码修改指南](#密码修改指南)

### 第二步：连接特斯拉账号

登录成功后，您需要连接您的特斯拉账号：

1. 点击页面上的 `Sign in` 按钮
2. 选择登录方式（推荐使用官方账号登录）
3. 输入您的特斯拉账号和密码
4. 完成验证后，系统会自动获取您的车辆信息

![连接特斯拉账号](./images/tesla-account-connect.png)
*[预留图片位置：特斯拉账号连接界面]*

### 第三步：配置车辆

账号连接成功后，系统会显示您的车辆：

1. 为您的车辆设置一个名称（例如：我的 Model 3）
2. 选择数据记录选项（建议保持默认设置）
3. 点击保存

![车辆配置](./images/add-vehicle.png)
*[预留图片位置：车辆配置界面]*

恭喜！配置完成，系统会开始自动记录您的车辆数据。

### 第四步：查看数据图表

配置完成后，您可以查看精美的数据图表：

1. 访问 `https://您的域名/grafana`
2. 使用用户名 `admin` 和您设置的密码登录
3. 选择左侧的仪表板查看各种数据

![数据图表](./images/grafana-dashboard.png)
*[预留图片位置：Grafana 数据图表界面]*

---

## 日常使用指南

### 查看车辆状态

登录主界面后，您可以看到：

- 🚗 车辆当前位置
- 🔋 电池电量和续航
- 🌡️ 车内外温度
- 📍 最近的行程记录

![车辆状态](./images/vehicle-status.png)
*[预留图片位置：车辆状态界面]*

### 查看历史数据

在数据图表页面，您可以查看：

- **充电记录**：每次充电的时间、地点、电量
- **行程统计**：每次出行的距离、能耗、时间
- **效率分析**：不同时期的能耗对比
- **月度报告**：每月的使用统计

![历史数据](./images/history-data.png)
*[预留图片位置：历史数据界面]*

### 在手机上使用

您还可以通过 Mytesla.cc 小程序查看数据：

1. 微信搜索"Mytesla.cc"小程序
2. 在设置中填入：
   - **服务器地址**：`https://您的域名`
   - **API密钥**：在 1Panel 应用详情中查看

![小程序配置](./images/miniapp-config.png)
*[预留图片位置：小程序配置界面]*

### 获取精准位置（可选）

如果您希望看到更精确的停车位置（精确到具体停车场），可以配置百度地图：

1. 访问[百度地图开放平台](https://lbsyun.baidu.com/)
2. 注册并完成个人认证
3. 创建应用获取密钥
4. 在 1Panel 应用设置中填入密钥

![百度地图配置](./images/baidu-map-config.png)
*[预留图片位置：百度地图配置界面]*

---

## 密码修改指南

系统中有几个地方可能需要修改密码：

### 修改网页访问密码

这是您访问 Mytesla 主页面时使用的密码：

1. 进入 1Panel → 应用 → 已安装
2. 找到 Mytesla，点击 `设置`

![应用设置入口](./images/app-settings.png)
*[预留图片位置：应用设置入口]*

3. 找到"Basic Auth 用户名"和"Basic Auth 密码"
4. 修改为新的用户名和密码
5. 点击`保存`，然后点击`重建`

![修改访问密码](./images/modify-basic-auth.png)
*[预留图片位置：密码修改界面]*

### 修改数据图表密码

这是您查看 Grafana 数据图表时使用的密码：

**方法一：在设置中修改**
1. 在 Mytesla 应用设置中
2. 找到"Grafana 管理员密码"
3. 输入新密码
4. 保存并重建

**方法二：在 Grafana 中修改**
1. 登录 Grafana
2. 点击左下角的用户头像
3. 选择"修改密码"
4. 输入新密码并保存

![Grafana密码修改](./images/grafana-change-password.png)
*[预留图片位置：Grafana 密码修改界面]*

### 重置 API 密钥

如果您需要更换小程序使用的 API 密钥：

1. 在应用设置中找到"API Token"
2. 记下新的密钥
3. 保存并重建
4. 在小程序中更新密钥

![API密钥管理](./images/api-token-management.png)
*[预留图片位置：API 密钥管理界面]*

---

## 应用升级

### 检查更新

1Panel 会自动检查应用更新：

1. 进入`应用` → `已安装`
2. 如果有新版本，会看到`升级`按钮
3. 点击`升级`即可

![应用升级提示](./images/app-upgrade.png)
*[预留图片位置：应用升级提示]*

### 升级注意事项

- 升级前建议先`备份`数据
- 升级过程中服务会短暂中断
- 升级完成后检查各功能是否正常

![数据备份](./images/data-backup.png)
*[预留图片位置：数据备份界面]*

---

## 常见问题处理

### 无法访问网页

如果您无法通过域名访问：

1. 检查网络连接是否正常
2. 确认域名输入正确
3. 尝试等待几分钟后重试

如果还是无法访问，可以尝试重启服务。

### 数据不更新

如果发现车辆数据长时间没有更新：

1. 检查特斯拉账号是否正常连接
2. 查看是否需要重新登录
3. 尝试重启服务

### 如何重启服务

当遇到问题时，重启服务通常能解决：

1. 进入 1Panel → 应用 → 已安装
2. 找到 Mytesla 应用
3. 点击`重启`

![重启服务](./images/restart-service.png)
*[预留图片位置：重启服务界面]*

### 查看运行状态

如需查看服务是否正常运行：

1. 在应用详情页面
2. 查看各个容器的状态
3. 绿色表示正常运行

![容器状态](./images/container-status.png)
*[预留图片位置：容器状态界面]*

### 重建应用

如果重启无效，可以尝试重建：

1. 在应用设置页面
2. 点击`重建`按钮
3. 等待重建完成

![应用重建](./images/app-rebuild.png)
*[预留图片位置：应用重建界面]*

> ⚠️ **注意**：重建不会丢失您的数据

---

## 获取帮助

### 查看日志

如果需要查看详细的错误信息：

1. 在应用详情页面
2. 点击容器名称
3. 选择`日志`查看

![查看日志](./images/view-logs.png)
*[预留图片位置：日志查看界面]*

### 常见问题答疑

**Q: 为什么看不到充电数据？**
A: 需要在车辆充电时系统才会记录，首次使用可能需要等待下次充电。

**Q: 数据会保存多久？**
A: 数据会永久保存在您的服务器上，除非您主动删除。

**Q: 可以添加多辆车吗？**
A: 可以，在主界面添加新车辆即可。

**Q: 如何删除历史数据？**
A: 目前需要通过数据库操作，建议联系技术支持。

### 联系支持

如果遇到无法解决的问题：

1. **官方网站**：访问 [mytesla.cc](https://mytesla.cc)
2. **用户社区**：加入用户交流群
3. **技术支持**：通过 1Panel 提交工单

---

## 使用小贴士

- 💡 建议定期查看数据报表，了解用车习惯
- 💡 可以导出数据用于个人分析
- 💡 充电时查看实时数据更有趣
- 💡 定期备份以防数据丢失

---

*本手册版本：v1.0*  
*适用于 Mytesla 2.1.0 及以上版本*